USE payments_db;
CREATE TABLE PEOPLE (id_person BIGINT IDENTITY(101,1) PRIMARY KEY, name NVARCHAR(255) NOT NULL, cpf VARCHAR(14) UNIQUE NOT NULL, date_of_birth DATE);
CREATE TABLE ACCOUNTS (id_account BIGINT IDENTITY(1001,1) PRIMARY KEY, id_person BIGINT NOT NULL, balance DECIMAL(18,2) NOT NULL DEFAULT 0.00, daily_withdrawal_limit DECIMAL(18,2) NOT NULL, is_active_flag BIT NOT NULL, account_type INT NOT NULL, creation_date DATETIME NOT NULL DEFAULT GETDATE(), CONSTRAINT FK_Account_Person FOREIGN KEY (id_person) REFERENCES PEOPLE(id_person));
CREATE TABLE TRANSACTIONS (id_transaction BIGINT IDENTITY(1,1) PRIMARY KEY, id_account BIGINT NOT NULL, value DECIMAL(18,2) NOT NULL, transaction_date DATETIME NOT NULL DEFAULT GETDATE(), CONSTRAINT FK_Transaction_Account FOREIGN KEY (id_account) REFERENCES ACCOUNTS(id_account));
SET IDENTITY_INSERT PEOPLE ON; INSERT INTO PEOPLE (id_person,name,cpf,date_of_birth) VALUES (101,'Alice Smith','123.456.789-00','1990-05-15'); SET IDENTITY_INSERT PEOPLE OFF;
